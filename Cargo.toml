[package]
name = "anno"
version = "0.1.0"
edition = "2021"
rust-version = "1.75"
authors = ["Henry Wallace <arclabs561@users.noreply.github.com>"]
license = "MIT OR Apache-2.0"
description = "Fast Named Entity Recognition (NER) â€” Pattern, Rule-based, BERT ONNX, Candle backends with evaluation framework"
repository = "https://github.com/arclabs561/anno"
keywords = ["ner", "nlp", "entity-recognition", "annotation", "ml"]
categories = ["text-processing", "science"]

[dependencies]
# Core (always available)
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
thiserror = "2.0"
regex = "1.10"
chrono = { version = "0.4", features = ["serde"] }
log = "0.4"
once_cell = "1.19"
tempfile = { version = "3.0", optional = true }

# ML backends (optional)
ort = { version = "2.0.0-rc.10", optional = true }
tokenizers = { version = "0.22", optional = true }
hf-hub = { version = "0.4", optional = true }
candle-core = { version = "0.9", optional = true }
candle-nn = { version = "0.9", optional = true }
candle-transformers = { version = "0.9", optional = true }

[dev-dependencies]
criterion = "0.5"
proptest = "1.5"
tempfile = "3.0"

[features]
default = []

# ML backends
onnx = ["dep:ort", "dep:tokenizers", "dep:hf-hub"]
candle = ["dep:candle-core", "dep:candle-nn", "dep:candle-transformers", "dep:tokenizers", "dep:hf-hub"]

# Convenience
ml = ["onnx"]  # Default ML backend is ONNX (most reliable)

[lints.rust]
missing_docs = "warn"

[lints.clippy]
unwrap_used = "warn"
